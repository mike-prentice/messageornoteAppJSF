<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:p="http://primefaces.org/ui"
>
  <h:head>
    <h:outputStylesheet library="css" name="style.css" />
    <title>Hello Again</title>
  </h:head>
  <h:body>
    <div id="container">
      <nav>
        <ul>
          <li><h:link value="Profile" outcome="newpage" /></li>
          <li><h:link value="Logout" outcome="login" /></li>
        </ul>
      </nav>
      <div id="globalmsg">
        <p:messages id="messages" showDetail="true" closable="true">
          <p:autoUpdate />
        </p:messages>
      </div>
      <h:form id="loginForm">
        <p:panelGrid columns="3">
          <h:outputLabel value="Username" />
          <p:inputText
            value="#{login.user}"
            required="true"
            requiredMessage="Please enter a user name"
            id="username"
          />
          <p:message for="username" id="msglog" />

          <h:outputLabel value="Password" />
          <p:inputText
            value="#{login.pwd}"
            required="true"
            requiredMessage="Please enter a password"
            id="pass"
            type="password"
          />
          <p:message for="pass" id="msglog1" />

          <p:commandButton
            value="Login"
            action="#{login.validateUsernamePassword}"
            rendered="#{!login.showRegisterBtn}"
            update="msglog msglog1 messages"
            id="loginBtn"
          />
          <p:commandButton
            value="Register"
            rendered="#{login.showRegisterBtn}"
            action="#{login.register}"
            update="msglog msglog1"
            id="registerBtn"
          />
          <p:commandButton
            value="Cancel"
            rendered="#{login.showRegisterBtn}"
            action="#{login.cancel}"
            update="msglog msglog1"
            id="cancelBtn"
          />
        </p:panelGrid>
      </h:form>
    </div>
  </h:body>
</html>
